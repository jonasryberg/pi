
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Intervallfoto Med Raspberry Pi - Jonas@pi</title>
  <meta name="author" content="Jonas Ryberg">

  
  <meta name="description" content="Jag slog till och köpte den nya kameramodulen till Raspberry Pi när jag besökte Webhallen i Fruängen i går. Den ser inte mycket ut för världen och &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://pi.ryberg.org/blog/2013/05/26/intervallfoto-med-rasoberry-pi">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Jonas@pi" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Jonas@pi</a></h1>
  
    <h2>Nördiga bloggerier.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:pi.ryberg.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blogg</a></li>
  <li><a href="/blog/archives">Arkiv</a></li>
  <li><a href="/om">Om bloggen</a></li>
  <li><a href="/om/mig.html">Om mig</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Intervallfoto Med Raspberry Pi</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-26T14:06:59+00:00" pubdate data-updated="true">May 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><object width="640" height="360"><param name="movie" value="//www.youtube.com/v/2a77FLHoxE4?version=3&amp;hl=en_US"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="//www.youtube.com/v/2a77FLHoxE4?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="640" height="360" allowscriptaccess="always" allowfullscreen="true"></embed></object>


<p>Jag slog till och köpte den nya kameramodulen till Raspberry Pi när jag besökte Webhallen i Fruängen i går. Den ser inte mycket ut för världen och som kamera betraktat kan den närmast jämföras med en mycket enkel mobilkamera utan autofokus. Den monteras via en plattkabel direkt på datorkortet, allt som sedan krävs för att den ska fungera är en uppdatering av datorns firmware med: <code>sudo apt-get update</code>
och
<code>sudo apt-get upgrade</code>.</p></p>

<!-- more -->


<p>Sedan behöver kameran aktiveras i <code>raspi-config</code>.</p>

<p>Kameran kontrolleras från terminalfönstret med <code>raspivid</code> för video och <code>raspistill</code> för bilder. Alla kamerans funktioner, som att välja iso-värde, längd på inspelad film eller att tala om vilken fil bilden ska sparas till görs genom tillägg direkt i terminalen.</p>

<p>En av de roligare funktionerna är möjligheten att göra time-laps eller intervallfoton. Jag riggade upp min Pi lite snyggt i fönstret för att testa att ta en bildserie.</p>

<p><img src="http://pi.ryberg.org/images/picam-300x195.jpg" title="Pi i fönster" alt="Pi i fönster" /></p>

<p>Det är inte helt praktiskt att fota med hjälp av kommandon i terminalfönstret, men ganska kul. Följande rad använde jag för att göra ta bilderna som jag sedan använt till filmen ovan:</p>

<p><code>raspistill -o &ldquo;bild%i.jpg&rdquo; -vf -hf -t 3600000 -tl 5000</code></p>

<p>Kommandot <code>raspstill</code> talar om att jag vill ta en bild, <code>-o &ldquo;bild%i.jpg&rdquo;</code> berättar att jag vill att bilderna ska sparas som bild1.jpg, bild2.jpg, bild3.jpg osv. Tilläggen <code>-vf</code> och <code>-hf</code> betyder att bilden ska först spegelvändas (kameran tar alla bilder spegelvända) och sedan vändas upp och ned (jag hade satt kameran upp och ned).</p>

<p>Slutligen betyder <code> -t 36000000</code> att jag vill att fotograferingen ska pågå i 36 miljoner millisekunder, dvs en timma, och <code>-tl 5000</code> är tiden mellan varje bild.</p>

<p>Efter en timma fanns bildserien klar i en mapp på minneskortet i datorn. Med ledning av den <a href="http://designspark.com/blog/time-lapse-photography-with-the-raspberry-pi-camera">här killen</a> hittade jag programmet Mencoder som kan användas för att foga samman bilderna till en film. Mencoder installeras med:
&lt;<code>sudo apt-get install mencoder</code></p>

<p>För att Mencoder ska kunna hitta rätt bilder i rätt ordning behöver den en textfil med alla filnamn. Den skapas enkelt enligt följande:</p>

<p><code>ls -t -r *.jpg &gt; bilder.txt</code></p>

<p><code>ls</code> listar som bekant alla filer i en mapp, <code>-t -r</code> talar om att du vill ha dem i tidsordning med den äldsta först <code> *.jpg</code> att det bara ska vara bildfiler och <code>&gt; bilder.txt</code> att allt ska skrivas i en fil ned just det namnet.</p>

<p>Sedan snodde jag instruktionerna för Mencoder rakt av så här:</p>

<p><code>mencoder -nosound -ovc lavc -lavcopts vcodec=mpeg4:aspect=16/9:vbitrate=8000000 -vf scale=1920:1080 -o tlcam.avi -mf type=jpeg:fps=24 mf://@bilder.txt</code></p>

<p>Det gjorde att filmen blev utdragen i 16:9 format och inte det format som bilderna var tagna i från början. Nästa försök ska jag se till att fånga bilderna i samma format som filmen är tänkt att vara i. Det borde spara tid när filmen kodas och minne när bilderna tas.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jonas Ryberg</span></span>

      








  


<time datetime="2013-05-26T14:06:59+00:00" pubdate data-updated="true">May 26<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/raspberry-pi/'>Raspberry_Pi</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://pi.ryberg.org/blog/2013/05/26/intervallfoto-med-rasoberry-pi/" data-via="" data-counturl="http://pi.ryberg.org/blog/2013/05/26/intervallfoto-med-rasoberry-pi/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/05/21/emil-bygger-tandborstrobot/" title="Previous Post: Emil bygger tandborstrobot">&laquo; Emil bygger tandborstrobot</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/10/26/webbstyrd-pi-kamera/" title="Next Post: Webbstyrd pi-kamera">Webbstyrd pi-kamera &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/11/10/intervallfoto-2-0/">Intervallfoto 2.0</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/26/webbstyrd-pi-kamera/">Webbstyrd Pi-kamera</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/26/intervallfoto-med-rasoberry-pi/">Intervallfoto Med Raspberry Pi</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/21/emil-bygger-tandborstrobot/">Emil Bygger Tandborstrobot</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/wordpress-pa-raspberry-pi/">WordPress På Raspberry Pi</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Jonas Ryberg -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
